#### Experiment: Data Used: 0.100%, Epochs: 10
**Stop Loss:** 0.300%

**Duration:** 15.18 seconds

##### Console Output:
```
Loading data for asset: btc
Subsetting data...
Total data values in intersection: 6283462
Number of data points to use: 6283
Start of subset: 2012-01-31 10:45:00+00:00
End of subset: 2012-03-27 18:37:00+00:00
Data subset shape: (6283, 44), (6283,)
Normalizing features...
Creating sequences...
Total sequences: 6253
Splitting data into training and testing sets...
Train size: (5002, 30, 40), Test size: (1251, 30, 40)
Building model...
Building Transformer model with input shape: (30, 40)
Training model...
Epoch 1/10

  1/157 [..............................] - ETA: 1:22 - loss: 23.9390
 10/157 [>.............................] - ETA: 0s - loss: 12.6036  
 20/157 [==>...........................] - ETA: 0s - loss: 7.1190 
 29/157 [====>.........................] - ETA: 0s - loss: 5.0436
 39/157 [======>.......................] - ETA: 0s - loss: 3.8223
 48/157 [========>.....................] - ETA: 0s - loss: 3.1439
 58/157 [==========>...................] - ETA: 0s - loss: 2.6231
 67/157 [===========>..................] - ETA: 0s - loss: 2.2836
 76/157 [=============>................] - ETA: 0s - loss: 2.0228
 85/157 [===============>..............] - ETA: 0s - loss: 1.8164
 94/157 [================>.............] - ETA: 0s - loss: 1.6466
103/157 [==================>...........] - ETA: 0s - loss: 1.5066
111/157 [====================>.........] - ETA: 0s - loss: 1.4016
119/157 [=====================>........] - ETA: 0s - loss: 1.3114
128/157 [=======================>......] - ETA: 0s - loss: 1.2219
137/157 [=========================>....] - ETA: 0s - loss: 1.1454
147/157 [===========================>..] - ETA: 0s - loss: 1.0702
156/157 [============================>.] - ETA: 0s - loss: 1.0111
Epoch 1: val_loss improved from inf to 0.31121, saving model to models\transformer_btc_model_0_1pct.h5

157/157 [==============================] - 2s 8ms/step - loss: 1.0091 - val_loss: 0.3112
Epoch 2/10

  1/157 [..............................] - ETA: 1s - loss: 0.0472
 10/157 [>.............................] - ETA: 0s - loss: 0.0366
 19/157 [==>...........................] - ETA: 0s - loss: 0.0368
 27/157 [====>.........................] - ETA: 0s - loss: 0.0355
 36/157 [=====>........................] - ETA: 0s - loss: 0.0355
 45/157 [=======>......................] - ETA: 0s - loss: 0.0350
 54/157 [=========>....................] - ETA: 0s - loss: 0.0388
 63/157 [===========>..................] - ETA: 0s - loss: 0.0405
 72/157 [============>.................] - ETA: 0s - loss: 0.0400
 80/157 [==============>...............] - ETA: 0s - loss: 0.0391
 88/157 [===============>..............] - ETA: 0s - loss: 0.0384
 97/157 [=================>............] - ETA: 0s - loss: 0.0383
106/157 [===================>..........] - ETA: 0s - loss: 0.0378
114/157 [====================>.........] - ETA: 0s - loss: 0.0371
123/157 [======================>.......] - ETA: 0s - loss: 0.0375
132/157 [========================>.....] - ETA: 0s - loss: 0.0370
141/157 [=========================>....] - ETA: 0s - loss: 0.0377
149/157 [===========================>..] - ETA: 0s - loss: 0.0381
Epoch 2: val_loss improved from 0.31121 to 0.27982, saving model to models\transformer_btc_model_0_1pct.h5

157/157 [==============================] - 1s 7ms/step - loss: 0.0381 - val_loss: 0.2798
Epoch 3/10

  1/157 [..............................] - ETA: 1s - loss: 0.0453
 10/157 [>.............................] - ETA: 0s - loss: 0.0287
 19/157 [==>...........................] - ETA: 0s - loss: 0.0293
 29/157 [====>.........................] - ETA: 0s - loss: 0.0335
 38/157 [======>.......................] - ETA: 0s - loss: 0.0330
 47/157 [=======>......................] - ETA: 0s - loss: 0.0329
 57/157 [=========>....................] - ETA: 0s - loss: 0.0320
 66/157 [===========>..................] - ETA: 0s - loss: 0.0340
 75/157 [=============>................] - ETA: 0s - loss: 0.0344
 84/157 [===============>..............] - ETA: 0s - loss: 0.0340
 93/157 [================>.............] - ETA: 0s - loss: 0.0350
102/157 [==================>...........] - ETA: 0s - loss: 0.0344
111/157 [====================>.........] - ETA: 0s - loss: 0.0343
121/157 [======================>.......] - ETA: 0s - loss: 0.0349
130/157 [=======================>......] - ETA: 0s - loss: 0.0349
139/157 [=========================>....] - ETA: 0s - loss: 0.0347
148/157 [===========================>..] - ETA: 0s - loss: 0.0345
157/157 [==============================] - ETA: 0s - loss: 0.0341
Epoch 3: val_loss improved from 0.27982 to 0.22092, saving model to models\transformer_btc_model_0_1pct.h5

157/157 [==============================] - 1s 7ms/step - loss: 0.0341 - val_loss: 0.2209
Epoch 4/10

  1/157 [..............................] - ETA: 0s - loss: 0.0134
 10/157 [>.............................] - ETA: 0s - loss: 0.0257
 19/157 [==>...........................] - ETA: 0s - loss: 0.0317
 28/157 [====>.........................] - ETA: 0s - loss: 0.0356
 37/157 [======>.......................] - ETA: 0s - loss: 0.0321
 46/157 [=======>......................] - ETA: 0s - loss: 0.0316
 54/157 [=========>....................] - ETA: 0s - loss: 0.0310
 63/157 [===========>..................] - ETA: 0s - loss: 0.0297
 72/157 [============>.................] - ETA: 0s - loss: 0.0299
 82/157 [==============>...............] - ETA: 0s - loss: 0.0300
 91/157 [================>.............] - ETA: 0s - loss: 0.0294
100/157 [==================>...........] - ETA: 0s - loss: 0.0288
109/157 [===================>..........] - ETA: 0s - loss: 0.0309
118/157 [=====================>........] - ETA: 0s - loss: 0.0307
127/157 [=======================>......] - ETA: 0s - loss: 0.0299
136/157 [========================>.....] - ETA: 0s - loss: 0.0295
145/157 [==========================>...] - ETA: 0s - loss: 0.0296
154/157 [============================>.] - ETA: 0s - loss: 0.0289
Epoch 4: val_loss improved from 0.22092 to 0.16118, saving model to models\transformer_btc_model_0_1pct.h5

157/157 [==============================] - 1s 7ms/step - loss: 0.0296 - val_loss: 0.1612
Epoch 5/10

  1/157 [..............................] - ETA: 0s - loss: 0.0234
 11/157 [=>............................] - ETA: 0s - loss: 0.0273
 21/157 [===>..........................] - ETA: 0s - loss: 0.0266
 30/157 [====>.........................] - ETA: 0s - loss: 0.0248
 39/157 [======>.......................] - ETA: 0s - loss: 0.0238
 48/157 [========>.....................] - ETA: 0s - loss: 0.0227
 57/157 [=========>....................] - ETA: 0s - loss: 0.0226
 66/157 [===========>..................] - ETA: 0s - loss: 0.0224
 75/157 [=============>................] - ETA: 0s - loss: 0.0240
 84/157 [===============>..............] - ETA: 0s - loss: 0.0232
 92/157 [================>.............] - ETA: 0s - loss: 0.0232
100/157 [==================>...........] - ETA: 0s - loss: 0.0230
108/157 [===================>..........] - ETA: 0s - loss: 0.0226
117/157 [=====================>........] - ETA: 0s - loss: 0.0221
124/157 [======================>.......] - ETA: 0s - loss: 0.0221
132/157 [========================>.....] - ETA: 0s - loss: 0.0230
140/157 [=========================>....] - ETA: 0s - loss: 0.0238
146/157 [==========================>...] - ETA: 0s - loss: 0.0235
151/157 [===========================>..] - ETA: 0s - loss: 0.0233
Epoch 5: val_loss did not improve from 0.16118

157/157 [==============================] - 1s 8ms/step - loss: 0.0241 - val_loss: 0.1660
Epoch 6/10

  1/157 [..............................] - ETA: 7s - loss: 0.0108
  9/157 [>.............................] - ETA: 1s - loss: 0.0182
 16/157 [==>...........................] - ETA: 1s - loss: 0.0170
 22/157 [===>..........................] - ETA: 1s - loss: 0.0173
 26/157 [===>..........................] - ETA: 1s - loss: 0.0185
 32/157 [=====>........................] - ETA: 1s - loss: 0.0181
 39/157 [======>.......................] - ETA: 1s - loss: 0.0184
 46/157 [=======>......................] - ETA: 1s - loss: 0.0191
 50/157 [========>.....................] - ETA: 1s - loss: 0.0187
 57/157 [=========>....................] - ETA: 0s - loss: 0.0188
 64/157 [===========>..................] - ETA: 0s - loss: 0.0187
 70/157 [============>.................] - ETA: 0s - loss: 0.0211
 77/157 [=============>................] - ETA: 0s - loss: 0.0229
 85/157 [===============>..............] - ETA: 0s - loss: 0.0228
 94/157 [================>.............] - ETA: 0s - loss: 0.0224
102/157 [==================>...........] - ETA: 0s - loss: 0.0228
103/157 [==================>...........] - ETA: 0s - loss: 0.0227
105/157 [===================>..........] - ETA: 0s - loss: 0.0225
113/157 [====================>.........] - ETA: 0s - loss: 0.0224
123/157 [======================>.......] - ETA: 0s - loss: 0.0230
131/157 [========================>.....] - ETA: 0s - loss: 0.0231
136/157 [========================>.....] - ETA: 0s - loss: 0.0228
144/157 [==========================>...] - ETA: 0s - loss: 0.0225
153/157 [============================>.] - ETA: 0s - loss: 0.0221
156/157 [============================>.] - ETA: 0s - loss: 0.0219
Epoch 6: val_loss improved from 0.16118 to 0.13826, saving model to models\transformer_btc_model_0_1pct.h5

157/157 [==============================] - 2s 14ms/step - loss: 0.0219 - val_loss: 0.1383
Epoch 7/10

  1/157 [..............................] - ETA: 0s - loss: 0.0280
 10/157 [>.............................] - ETA: 0s - loss: 0.0181
 13/157 [=>............................] - ETA: 1s - loss: 0.0174
 18/157 [==>...........................] - ETA: 1s - loss: 0.0160
 21/157 [===>..........................] - ETA: 1s - loss: 0.0160
 25/157 [===>..........................] - ETA: 1s - loss: 0.0167
 29/157 [====>.........................] - ETA: 1s - loss: 0.0201
 34/157 [=====>........................] - ETA: 1s - loss: 0.0192
 38/157 [======>.......................] - ETA: 1s - loss: 0.0190
 44/157 [=======>......................] - ETA: 1s - loss: 0.0192
 51/157 [========>.....................] - ETA: 1s - loss: 0.0196
 60/157 [==========>...................] - ETA: 0s - loss: 0.0204
 69/157 [============>.................] - ETA: 0s - loss: 0.0200
 75/157 [=============>................] - ETA: 0s - loss: 0.0198
 81/157 [==============>...............] - ETA: 0s - loss: 0.0195
 88/157 [===============>..............] - ETA: 0s - loss: 0.0194
 96/157 [=================>............] - ETA: 0s - loss: 0.0192
105/157 [===================>..........] - ETA: 0s - loss: 0.0195
114/157 [====================>.........] - ETA: 0s - loss: 0.0196
123/157 [======================>.......] - ETA: 0s - loss: 0.0198
131/157 [========================>.....] - ETA: 0s - loss: 0.0196
140/157 [=========================>....] - ETA: 0s - loss: 0.0205
149/157 [===========================>..] - ETA: 0s - loss: 0.0203
Epoch 7: val_loss did not improve from 0.13826

157/157 [==============================] - 1s 9ms/step - loss: 0.0203 - val_loss: 0.2096
Epoch 8/10

  1/157 [..............................] - ETA: 0s - loss: 0.0203
 10/157 [>.............................] - ETA: 1s - loss: 0.0261
 18/157 [==>...........................] - ETA: 0s - loss: 0.0221
 27/157 [====>.........................] - ETA: 0s - loss: 0.0205
 35/157 [=====>........................] - ETA: 0s - loss: 0.0195
 44/157 [=======>......................] - ETA: 0s - loss: 0.0190
 50/157 [========>.....................] - ETA: 0s - loss: 0.0193
 59/157 [==========>...................] - ETA: 0s - loss: 0.0193
 62/157 [==========>...................] - ETA: 0s - loss: 0.0192
 71/157 [============>.................] - ETA: 0s - loss: 0.0186
 81/157 [==============>...............] - ETA: 0s - loss: 0.0184
 90/157 [================>.............] - ETA: 0s - loss: 0.0185
 99/157 [=================>............] - ETA: 0s - loss: 0.0194
108/157 [===================>..........] - ETA: 0s - loss: 0.0198
117/157 [=====================>........] - ETA: 0s - loss: 0.0197
126/157 [=======================>......] - ETA: 0s - loss: 0.0195
134/157 [========================>.....] - ETA: 0s - loss: 0.0192
143/157 [==========================>...] - ETA: 0s - loss: 0.0188
152/157 [============================>.] - ETA: 0s - loss: 0.0190
Epoch 8: val_loss did not improve from 0.13826

157/157 [==============================] - 1s 7ms/step - loss: 0.0189 - val_loss: 0.1848
Epoch 9/10

  1/157 [..............................] - ETA: 0s - loss: 0.0144
  9/157 [>.............................] - ETA: 0s - loss: 0.0166
 18/157 [==>...........................] - ETA: 0s - loss: 0.0174
 26/157 [===>..........................] - ETA: 0s - loss: 0.0196
 32/157 [=====>........................] - ETA: 0s - loss: 0.0185
 40/157 [======>.......................] - ETA: 0s - loss: 0.0180
 49/157 [========>.....................] - ETA: 0s - loss: 0.0193
 57/157 [=========>....................] - ETA: 0s - loss: 0.0188
 66/157 [===========>..................] - ETA: 0s - loss: 0.0187
 74/157 [=============>................] - ETA: 0s - loss: 0.0191
 82/157 [==============>...............] - ETA: 0s - loss: 0.0188
 90/157 [================>.............] - ETA: 0s - loss: 0.0183
 99/157 [=================>............] - ETA: 0s - loss: 0.0183
107/157 [===================>..........] - ETA: 0s - loss: 0.0182
115/157 [====================>.........] - ETA: 0s - loss: 0.0186
124/157 [======================>.......] - ETA: 0s - loss: 0.0188
133/157 [========================>.....] - ETA: 0s - loss: 0.0186
143/157 [==========================>...] - ETA: 0s - loss: 0.0181
151/157 [===========================>..] - ETA: 0s - loss: 0.0179
Epoch 9: val_loss did not improve from 0.13826

157/157 [==============================] - 1s 7ms/step - loss: 0.0178 - val_loss: 0.1776
Epoch 10/10

  1/157 [..............................] - ETA: 0s - loss: 0.0120
  9/157 [>.............................] - ETA: 1s - loss: 0.0151
 17/157 [==>...........................] - ETA: 0s - loss: 0.0148
 25/157 [===>..........................] - ETA: 0s - loss: 0.0152
 34/157 [=====>........................] - ETA: 0s - loss: 0.0183
 43/157 [=======>......................] - ETA: 0s - loss: 0.0184
 53/157 [=========>....................] - ETA: 0s - loss: 0.0182
 62/157 [==========>...................] - ETA: 0s - loss: 0.0177
 71/157 [============>.................] - ETA: 0s - loss: 0.0173
 81/157 [==============>...............] - ETA: 0s - loss: 0.0180
 90/157 [================>.............] - ETA: 0s - loss: 0.0173
 99/157 [=================>............] - ETA: 0s - loss: 0.0168
108/157 [===================>..........] - ETA: 0s - loss: 0.0176
117/157 [=====================>........] - ETA: 0s - loss: 0.0181
126/157 [=======================>......] - ETA: 0s - loss: 0.0178
135/157 [========================>.....] - ETA: 0s - loss: 0.0178
143/157 [==========================>...] - ETA: 0s - loss: 0.0176
151/157 [===========================>..] - ETA: 0s - loss: 0.0178
Epoch 10: val_loss improved from 0.13826 to 0.12233, saving model to models\transformer_btc_model_0_1pct.h5

157/157 [==============================] - 1s 7ms/step - loss: 0.0179 - val_loss: 0.1223
Plotting training loss...
Loss curve saved to: plots\loss_curve_transformer_btc_0_1pct.png
Generating predictions on test set...

 1/40 [..............................] - ETA: 2s
30/40 [=====================>........] - ETA: 0s
40/40 [==============================] - 0s 2ms/step
Predictions shape: (1251, 1)
Plotting predictions and saving comparison CSV...
Prediction plot saved to: plots\prediction_plot_transformer_btc_0_1pct.png
Comparison CSV saved to: model-result-data\transformer_btc_0_1pct_comparison.csv
Printing evaluation metrics...
0.1% | acc 0.0520  prec 0.0330  rec 0.3291  f1 0.0600  mse 0.1223  rmse 0.3498  mae 0.3128
Saving model and scaler...
Model saved to: models\transformer_btc_model_0_1pct.h5
Scaler saved to: models\transformer_btc_scaler_0_1pct.pkl
Training and prediction complete.
Signal distribution:
Signal
 1    1246
-1       5
Name: count, dtype: int64
Setting up Backtest object...
Running backtest engine...
Found 1246 +1 signals and 5 -1 signals in the data.
Start                                     0.0
End                                    1250.0
Duration                               1250.0
Exposure Time [%]                    78.25739
Equity Final [$]                  91106.43812
Equity Peak [$]                  101496.88368
Return [%]                           -8.89356
Buy & Hold Return [%]               -11.33829
Return (Ann.) [%]                         0.0
Volatility (Ann.) [%]                     NaN
Sharpe Ratio                              NaN
Sortino Ratio                             NaN
Calmar Ratio                              0.0
Alpha [%]                             2.33826
Beta                                  0.99061
Max. Drawdown [%]                   -14.56519
Avg. Drawdown [%]                    -4.53796
Max. Drawdown Duration                  825.0
Avg. Drawdown Duration              193.83333
# Trades                                 37.0
Win Rate [%]                         13.51351
Best Trade [%]                        5.50847
Worst Trade [%]                      -4.62777
Avg. Trade [%]                       -0.38457
Max. Trade Duration                     147.0
Avg. Trade Duration                  25.72973
Profit Factor                         0.59794
Expectancy [%]                        -0.3618
SQN                                  -1.09932
Kelly Criterion                      -0.14357
_strategy                 MLStrategy(stop_...
_equity_curve                         Equi...
_trades                        Size  Entry...
dtype: object

Trade Details:
Number of trades:       37
Number of closed trades:37
Number of open trades:  0
Saving backtest plot to HTML...
Backtest stats saved to: results\transformer_btc_0_1pct_0_3stloss\backtest_stats.csv
Full pipeline complete.

```
##### Training Loss Plot:
![Training Loss Plot](../../plots/loss_curve_transformer_btc_0_1pct.png)

##### Prediction Plot:
![Prediction Plot](../../plots/prediction_plot_transformer_btc_0_1pct.png)

##### Metrics CSV:
[View CSV](../../model-result-data/btc_transformer_0_1pct_metrics.csv)

##### Backtest Interactive Chart:
<iframe src="../../results/transformer_btc_0_1pct_0_3stloss/backtest_plot.html" width="100%" height="600px" frameborder="0"></iframe>
If the iframe does not display, please [click here to view the HTML](../../results/transformer_btc_0_1pct_0_3stloss/backtest_plot.html).

##### Backtest Stats:
[View CSV](../../results/transformer_btc_0_1pct_0_3stloss/backtest_stats.csv)

##### Saved Model and Scaler:
- **Model:** [View Model](../../models/transformer_btc_model_0_1pct.h5)
- **Scaler:** [View Scaler](../../models/transformer_btc_scaler_0_1pct.pkl)


---

